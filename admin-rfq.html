<!DOCTYPE html>
<html>
<head>
<title>Admin RFQ Upload</title>
</head>
<body>

<h2>Add New RFQ</h2>

<input id="rfqText" placeholder="Full RFQ details" style="width:100%;padding:12px">
<button id="addRFQ">Add RFQ</button>

<script type="module">
import { auth, db } from "/assets/js/firebase-init.js";
import { addDoc, collection, serverTimestamp }
  from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
import { onAuthStateChanged }
  from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

onAuthStateChanged(auth,user=>{
  if(!user) return;

  document.getElementById("addRFQ").onclick=async()=>{
    const text=document.getElementById("rfqText").value.trim();
    if(!text) return alert("Enter RFQ");

    await addDoc(collection(db,"rfqs"),{
      text,
      createdAt:serverTimestamp()
    });

    alert("RFQ added");
    document.getElementById("rfqText").value="";
  };
});
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Live Buyer RFQs | APD Global Trade</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
body {
  margin:0;
  font-family:Inter,sans-serif;
  background:#f5f7fb;
  color:#0f172a;
}
header {
  background:#071427;
  padding:20px 0;
  text-align:center;
}
header .logo {
  color:#c9a44a;
  font-weight:600;
  font-size:18px;
}
header nav a {
  color:#e5e7eb;
  margin:0 14px;
  text-decoration:none;
  font-size:14px;
}
.section {
  max-width:1200px;
  margin:auto;
  padding:60px 20px;
}
.rfq-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:26px;
}
.rfq-card {
  background:#fff;
  padding:24px;
  border-radius:16px;
  border:1px solid #e5e7eb;
}
.rfq-card h3 {
  margin-top:0;
}
.buyer-contact {
  font-size:14px;
  margin-top:12px;
  line-height:1.6;
  background:#ecfeff;
  padding:10px;
  border-radius:8px;
}
.lock {
  color:#991b1b;
  font-size:13px;
  font-weight:600;
  margin-top:12px;
}
.lock a {
  display:inline-block;
  margin-top:6px;
  color:#020617;
  font-weight:600;
}
.cta {
  background:#020617;
  color:#fff;
  text-align:center;
  padding:70px 20px;
}
.cta a {
  background:#c9a44a;
  color:#000;
  padding:14px 34px;
  border-radius:999px;
  text-decoration:none;
  font-weight:600;
}
footer {
  background:#020617;
  color:#9ca3af;
  text-align:center;
  padding:40px 20px;
}
</style>
</head>

<body>

<header>
  <div class="logo">APD Global Trade</div>
  <nav>
    <a href="/index.html">Home</a>
    <a href="/rfq.html">Buyer RFQs</a>
    <a href="/membership.html">Membership</a>
    <a href="/supplier-login.html">Logout</a>
  </nav>
</header>

<section class="section">
  <h1>Live Buyer RFQs</h1>
  <p>Buyer contact details are visible only to <strong>approved Gold & Platinum suppliers</strong>.</p>
  <div class="rfq-grid" id="rfqGrid"></div>
</section>

<section class="cta">
  <h2>Unlock Buyer Contact Details</h2>
  <p>Upgrade your supplier membership to access full RFQ details.</p>
  <a href="/membership.html">View Membership Plans</a>
</section>

<footer>
  <p style="color:#c9a44a;font-weight:600;">APD Global Trade</p>
  <p>Elite B2B Trade Facilitation Platform</p>
  <p>ðŸ“§ admin@apdglobaltrade.com</p>
</footer>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyABA-KRY6bY7K2QZwLhQ2piHjQVLLceiGs",
  authDomain: "apd-globaltrade-prod.firebaseapp.com",
  projectId: "apd-globaltrade-prod",
  storageBucket: "apd-globaltrade-prod.firebasestorage.app",
  messagingSenderId: "226407312435",
  appId: "1:226407312435:web:f8a54b1132af3899170746"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

const rfqs = [
  ["Basmati Rice 1121","500 MT","UAE","buyer@uaeimport.com","+971 50 123 4567"],
  ["Red Chilli Powder","20 MT","USA","procurement@usfoods.com","+1 312 555 8821"],
  ["White Sugar ICUMSA 45","5,000 MT","Bangladesh","supply@bdfoods.com","+880 171 998 1100"],
  ["Soybean Meal","1,000 MT","Vietnam","trade@vnagro.vn","+84 91 220 5544"],
  ["Yellow Corn","2,000 MT","Egypt","procure@egygrain.eg","+20 109 333 2231"],
  ["Raw Cashew Nuts","100 MT","India","export@goacashew.in","+91 98211 44556"],
  ["Sesame Seeds","300 MT","Japan","foodtrade@jpimports.jp","+81 80 5566 8899"],
  ["Black Pepper","40 MT","Germany","buyer@de-spice.de","+49 151 8899 4411"],
  ["Turmeric Powder","25 MT","UK","imports@ukspices.co.uk","+44 7700 900111"],
  ["Fresh Mangoes","120 MT","Netherlands","fresh@nlfruits.nl","+31 6 99887766"],
  ["Frozen Shrimp","100 MT","Spain","seafood@esimports.es","+34 677 889 123"],
  ["Frozen Chicken Whole","800 MT","Saudi Arabia","halal@ksafoods.sa","+966 54 321 8890"],
  ["Frozen Buffalo Meat","500 MT","Malaysia","meat@myimports.my","+60 12 889 2211"],
  ["Refined Sunflower Oil","1,200 MT","Turkey","buy@tragro.com","+90 532 441 0021"],
  ["Palm Oil RBD","3,000 MT","Nigeria","oiltrade@ngimports.ng","+234 802 998 4455"],
  ["Caustic Soda Flakes","200 MT","Brazil","chem@brimport.com","+55 11 98822 3344"],
  ["PVC Resin K67","1,000 MT","Peru","polymer@latamtrade.pe","+51 9 8899 2233"],
  ["Bitumen 60/70","10,000 MT","Kenya","infra@keprojects.ke","+254 721 443 998"],
  ["Cotton Yarn 30s","60 MT","Italy","spinning@ittextile.it","+39 331 998 8822"],
  ["Denim Fabric","150,000 Meters","Turkey","fabric@trtextile.com","+90 545 778 1122"],
  ["Men Cotton T-Shirts","200,000 pcs","Germany","apparel@deretail.de","+49 176 551 9002"],
  ["Hotel Bed Linen","50,000 sets","Qatar","procure@qatarlux.qa","+974 3312 8899"],
  ["Aluminium Scrap UBC","600 MT","South Korea","metals@koreatrade.kr","+82 10 4412 8801"],
  ["Copper Cathodes","200 MT","China","refinery@cnmetals.cn","+86 138 9988 2233"],
  ["MS Steel Pipes","5,000 MT","Oman","projects@ominfra.om","+968 9211 8899"],
  ["TMT Steel Bars","10,000 MT","Nepal","build@npinfra.np","+977 9818 223344"],
  ["Solar Panels 550W","25 MW","Chile","solar@clenergy.cl","+56 9 9988 1100"],
  ["Diesel Generator 125 KVA","120 Units","Ghana","power@ghinfra.gh","+233 24 998 4455"],
  ["LED Street Lights","15,000 Units","Kenya","projects@nairobiinfra.ke","+254 721 443 998"],
  ["Electrical Cables","1,000 KM","UAE","electro@dubaitrade.ae","+971 52 998 1122"],
  ["PET Bottles Preforms","5 Million pcs","Poland","pack@pleuro.pl","+48 607 998 221"],
  ["Corrugated Boxes","2 Million pcs","USA","supply@uspack.com","+1 415 889 2233"],
  ["Paper Rolls Kraft","2,500 MT","Mexico","paper@mxtrade.mx","+52 55 8899 3311"],
  ["Cement Clinker","50,000 MT","Sri Lanka","cement@slprojects.lk","+94 77 998 1223"],
  ["Ceramic Floor Tiles","80 Containers","Morocco","tiles@mafurnish.ma","+212 661 998 332"],
  ["Granite Slabs","12 Containers","Italy","stone@italmarble.it","+39 333 772 1188"],
  ["Nitrile Examination Gloves","10 Million pcs","Canada","medical@cahealth.ca","+1 647 998 4411"],
  ["Disposable Syringes","5 Million pcs","Philippines","health@phmed.ph","+63 917 889 2211"],
  ["Industrial Safety Shoes","30,000 pairs","South Africa","safety@zaindustries.za","+27 82 998 3344"],
  ["Truck Tyres","8,000 pcs","Colombia","auto@coltrade.co","+57 310 889 5544"],
  ["Engine Lubricant Oil","1,500 KL","UAE","lube@meenergy.ae","+971 55 889 2211"],
  ["Auto Brake Pads","500,000 sets","Russia","parts@rsmotor.ru","+7 916 998 1122"]
];

const allRfqs = rfqs;
const grid = document.getElementById("rfqGrid");

function render(isPremium) {
  allRfqs.forEach(r => {
    const div = document.createElement("div");
    div.className = "rfq-card";
    div.innerHTML = `
      <h3>${r[0]}</h3>
      <p>Quantity: ${r[1]}</p>
      <p>Destination: ${r[2]}</p>
      ${isPremium
        ? `<div class="buyer-contact">ðŸ“§ ${r[3]}<br>ðŸ“ž ${r[4]}</div>`
        : `<div class="lock">ðŸ”’ Buyer contact available to Gold & Platinum only<br>
           <a href="/membership.html">Upgrade Membership</a></div>`
      }
    `;
    grid.appendChild(div);
  });
}

onAuthStateChanged(auth, async user => {
  if (!user) {
    window.location.href = "/supplier-login.html";
    return;
  }
  const snap = await getDoc(doc(db, "suppliers", user.uid));
  const plan = snap.exists() ? snap.data().plan : "free";
  render(plan === "gold" || plan === "platinum");
});
</script>

</body>
</html>

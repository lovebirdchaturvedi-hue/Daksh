<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Live Buyer RFQs | APD Global Trade</title>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

<style>
/* ================= BASE ================= */
body{
  margin:0;
  font-family:Inter,sans-serif;
  background:#f5f7fb;
  color:#0f172a;
}
h1,h2,h3{letter-spacing:-.3px}

/* ================= HEADER ================= */
.header{
  height:72px;
  background:#071427;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:0 22px;
}
.logo{color:#c9a44a;font-weight:600}
.nav-desktop{
  display:flex;
  align-items:center;
}
.nav-desktop a{
  color:#e5e7eb;
  margin-left:18px;
  text-decoration:none;
  font-size:14px;
}
.logout-btn{
  margin-left:18px;
  background:#020617;
  color:#fff;
  border:none;
  padding:8px 16px;
  border-radius:999px;
  font-size:13px;
  cursor:pointer;
}

/* ================= HAMBURGER ================= */
.hamburger{
  display:none;
  flex-direction:column;
  cursor:pointer;
}
.hamburger span{
  width:24px;
  height:2px;
  background:#fff;
  margin:4px 0;
}

/* ================= MOBILE NAV ================= */
.mobile-nav{
  position:fixed;
  top:0;right:-100%;
  width:75%;
  height:100%;
  background:#020617;
  padding:90px 30px;
  transition:.4s ease;
  z-index:9999;
}
.mobile-nav a,
.mobile-nav button{
  display:block;
  width:100%;
  text-align:left;
  background:none;
  border:none;
  color:#fff;
  font-size:18px;
  margin-bottom:24px;
  cursor:pointer;
}

/* ================= CONTENT ================= */
.section{
  max-width:1200px;
  margin:auto;
  padding:80px 20px;
}
.section p{
  max-width:720px;
  color:#475569;
}
.search-box{
  margin-top:30px;
}
.search-box input{
  padding:14px;
  border-radius:12px;
  border:1px solid #e5e7eb;
  width:280px;
}
.rfq-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
  gap:26px;
  margin-top:40px;
}
.rfq-card{
  background:#fff;
  padding:24px;
  border-radius:16px;
  border:1px solid #e5e7eb;
  opacity:0;
  transform:translateY(30px);
  transition:.4s ease;
}
.rfq-card.visible{
  opacity:1;
  transform:translateY(0);
}
.rfq-card:hover{
  transform:translateY(-6px);
  box-shadow:0 20px 40px rgba(0,0,0,.08);
}
.badge{
  display:inline-block;
  background:#c9a44a;
  color:#000;
  font-size:11px;
  padding:4px 10px;
  border-radius:999px;
  font-weight:600;
  margin-bottom:10px;
}
.buyer-contact{display:none;font-size:14px;margin-top:12px}
.buyer-locked{color:#991b1b;font-size:13px;font-weight:600;margin-top:12px}
.buyer-locked a{color:#991b1b}

/* ================= FOOTER ================= */
footer{
  background:#020617;
  color:#9ca3af;
  text-align:center;
  padding:50px 20px;
  font-size:14px;
}

/* ================= STICKY MOBILE CTA ================= */
.sticky-cta{display:none}
@media(max-width:768px){
  .nav-desktop{display:none}
  .hamburger{display:flex}
  .sticky-cta{
    display:block;
    position:fixed;
    bottom:0;
    left:0;
    width:100%;
    background:#020617;
    padding:12px;
    z-index:9998;
  }
  .sticky-cta a{
    display:block;
    text-align:center;
    background:#c9a44a;
    color:#020617;
    padding:14px;
    border-radius:999px;
    font-weight:600;
    text-decoration:none;
  }
}
</style>
</head>

<body>

<!-- ================= HEADER ================= -->
<header class="header">
  <div class="logo">APD Global Trade</div>

  <nav class="nav-desktop">
    <a href="/index.html">Home</a>
    <a href="/rfq.html">Buyer RFQs</a>
    <a href="/membership.html">Membership</a>
    <button class="logout-btn" onclick="logout()">Logout</button>
  </nav>

  <div class="hamburger" id="hamburger">
    <span></span><span></span><span></span>
  </div>
</header>

<div class="mobile-nav" id="mobileNav">
  <a href="/index.html">Home</a>
  <a href="/rfq.html">Buyer RFQs</a>
  <a href="/membership.html">Membership</a>
  <button onclick="logout()">Logout</button>
</div>

<!-- ================= PRIORITY RFQs ================= -->
<section class="section">
  <h1>Priority Buyer RFQs</h1>
  <p>High-demand verified buyer requirements.</p>

  <div class="search-box">
    <input id="searchInput" placeholder="Search product or country">
  </div>

  <div class="rfq-grid" id="priorityRFQs"></div>
</section>

<!-- ================= MOCK RFQs ================= -->
<section class="section">
  <h1>Other Live Buyer RFQs</h1>
  <p>Ongoing global buyer requirements.</p>

  <div class="rfq-grid" id="mockRFQs"></div>
</section>

<footer>
  <p style="color:#c9a44a;font-weight:600;">APD Global Trade</p>
  <p>Elite B2B Trade Facilitation Platform</p>
</footer>

<div class="sticky-cta">
  <a href="/membership.html">ðŸ”“ Unlock Buyer Contacts</a>
</div>

<!-- ================= MOBILE NAV ================= -->
<script>
const hamburger=document.getElementById("hamburger");
const mobileNav=document.getElementById("mobileNav");
hamburger.onclick=()=>{
  mobileNav.style.right = mobileNav.style.right==="0px" ? "-100%" : "0px";
};
</script>

<!-- ================= PRIORITY RFQs (YOUR DATA) ================= -->
<script>
const priorityRFQs = [
`SAUDI ARABIA / IR-64 / 26 MT / WHITE RICE / CIF JEDDAH PORT / 30% ADVANCE + DOCS / 50 KG PP BAG`,
`SAUDI ARABIA / SWARNA / 26 MT / WHITE RICE / CIF JEDDAH PORT / 30% ADVANCE + DOCS / 50 KG PP BAG`,
`NETHERLAND / REFINED SUNFLOWER OIL / 200 MT / CIF ROTTERDAM PORT / EU STANDARDS`,
`SOUTH AFRICA / REFINED CANOLA OIL / 25 MT / CIF DURBAN PORT / LC AT SIGHT / FLEXI TANK`,
`ALGERIA / PEANUT KERNEL / 20 MT / SIZE 40-50 / CIF ALGIERS PORT`,
`SAUDI ARABIA / GREEN LENTILS / 18 MT / CIF RIYADH PORT`,
`EGYPT / 1121 CREAMY SELLA / 26 MT / CIF AL SOKHNA PORT`,
`EGYPT / 1121 STEAM / 26 MT / CIF AL SOKHNA PORT`,
`SAUDI ARABIA / SOYBEANS (ANIMAL) / 5000 MT / CIF JEDDAH PORT`,
`SAUDI ARABIA / BARLEY GRAIN / 8000 MT / CIF JEDDAH PORT`,
`MOROCCO / IR-64 PARBOILED / 26 MT / CIF CASABLANCA PORT`,
`BENIN / IR-64 RAW / 60 MT / CIF COTONOU PORT`,
`KENYA / IR-64 RAW / 500 MT / CIF MOMBASA PORT`,
`ALGERIA / IR-64 PARBOILED / 100 MT / CIF ALGIERS PORT`,
`TANZANIA / ICUMSA 45 / 250 MT / CIF DAR ES SALAAM`,
`BAHRAIN / 1121 CREAMY SELLA / 26 MT / CIF KHALIFA PORT`,
`SYRIA / BLACK PEPPER / 3 MT / CIF TARTOUS PORT`,
`MADAGASCAR / IR-64 RAW / 1000 MT / CIF TAMATAVE PORT`,
`GHANA / LONG GRAIN PARBOILED / 52 MT / CIF TEMA PORT`,
`LIBYA / ICUMSA 45 / 500 MT / CIF TRIPOLI PORT`
];

const priorityGrid=document.getElementById("priorityRFQs");
priorityRFQs.forEach((rfq,i)=>{
  const card=document.createElement("div");
  card.className="rfq-card";
  card.innerHTML=`
    <span class="badge">PRIORITY RFQ</span>
    <h3>Buyer RFQ #${i+1}</h3>
    <p>${rfq}</p>
    <div class="buyer-contact">ðŸ“§ buyer@company.com</div>
    <div class="buyer-locked">
      ðŸ”’ Buyer contact available to Gold & Platinum suppliers only<br>
      <a href="/membership.html">Upgrade Membership</a>
    </div>`;
  priorityGrid.appendChild(card);
});
</script>

<!-- ================= MOCK RFQs ================= -->
<script>
const products=["Basmati Rice","IR-64 Rice","Sugar ICUMSA 45","Sunflower Oil","Soybean Oil"];
const destinations=["UAE","USA","UK","Germany","France"];
const mockGrid=document.getElementById("mockRFQs");

for(let i=1;i<=100;i++){
  const card=document.createElement("div");
  card.className="rfq-card";
  card.innerHTML=`
    <h3>${products[Math.floor(Math.random()*products.length)]}</h3>
    <p>Quantity: ${Math.floor(Math.random()*900+50)} MT</p>
    <p>Destination: ${destinations[Math.floor(Math.random()*destinations.length)]}</p>
    <div class="buyer-contact">ðŸ“§ buyer${i}@company.com</div>
    <div class="buyer-locked">
      ðŸ”’ Buyer contact available to Gold & Platinum suppliers only<br>
      <a href="/membership.html">Upgrade Membership</a>
    </div>`;
  mockGrid.appendChild(card);
}
</script>

<!-- ================= SEARCH FILTER ================= -->
<script>
const searchInput=document.getElementById("searchInput");
searchInput.addEventListener("input",()=>{
  const v=searchInput.value.toLowerCase();
  document.querySelectorAll(".rfq-card").forEach(c=>{
    c.style.display=c.innerText.toLowerCase().includes(v)?"block":"none";
  });
});
</script>

<!-- ================= SCROLL ANIMATION ================= -->
<script>
const observer=new IntersectionObserver(entries=>{
  entries.forEach(e=>{
    if(e.isIntersecting){
      e.target.classList.add("visible");
      observer.unobserve(e.target);
    }
  });
},{threshold:.15});
document.querySelectorAll(".rfq-card").forEach(c=>observer.observe(c));
</script>

<!-- ================= FIREBASE ACCESS CONTROL ================= -->
<script type="module">
import { auth, db } from "/assets/js/firebase-init.js";
import { onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
import { doc, getDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

onAuthStateChanged(auth, async (user)=>{
  if(!user) return;
  const snap=await getDoc(doc(db,"suppliers",user.uid));
  if(!snap.exists()) return;
  const s=snap.data();
  if(s.status==="approved" && (s.plan==="gold"||s.plan==="platinum")){
    document.querySelectorAll(".buyer-locked").forEach(e=>e.style.display="none");
    document.querySelectorAll(".buyer-contact").forEach(e=>e.style.display="block");
  }
});
</script>

<!-- ================= LOGOUT ================= -->
<script type="module">
import { auth } from "/assets/js/firebase-init.js";
import { signOut } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

window.logout = async () => {
  await signOut(auth);
  window.location.href = "/supplier-login.html";
};
</script>

</body>
</html>
